<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="cssposts.css">
    <title>Document</title>
</head>
<body>
<script>
    // На странице post-details.html:
    // 7 Вивести всю, без виключення, інформацію про об'єкт post на який клікнули .
    // 8 Нижчє інформаці про пост, вивести всі коментарі поточного поста
    // (ендпоінт  - https://jsonplaceholder.typicode.com/posts/POST_ID/comments)

    // post-details.html - блок з інфою про пост зверху. Коментарі - по 4 в ряд.
    //     Всі елементи котрі характеризують users, posts, comments візуалізувати, так, щоб було видно що це блоки (дати фон. марджини і тд)

    let urlpost = new URL(location.href).searchParams.get('id')
    let newurlpost = `https://jsonplaceholder.typicode.com/posts/${urlpost}`

    fetch(newurlpost)
        .then(value => value.json())
        .then(post => {
            console.log(location)
            let divBaty1 = document.createElement('div');
            document.body.appendChild(divBaty1)

            let p1 = document.createElement('p')
            p1.innerText = `UserId: ${post.userId}
                ID: ${post.id}
                Title: ${post.title}
                Body: ${post.body}
                `

            divBaty1.appendChild(p1)
            let newurlcoment = `https://jsonplaceholder.typicode.com/posts/${post.id}/comments`
            fetch(newurlcoment)
                .then(value => value.json())
                .then(coments => {
                    for (const coment of coments) {
                        let pcoments = document.createElement('p');
                        pcoments.innerText = `Name ${coment.id}: ${coment.name}`
                        divBaty1.appendChild(pcoments)
                    }
                })


        })

    // let urlcoments = new URL(location.href).searchParams.get('id')
    // let newurlcoments = `https://jsonplaceholder.typicode.com/posts/${urlcoments}/comments`
    // fetch(newurlcoments)
    // .then(value => value.json())
    // .then(post => {
    //     for (const postElement of post) {
    //         console.log(postElement.email)
    //
    //         // let ainfo = document.createElement('a')
    //         // ainfo.href = `post-details.html?id=${post.id}`
    //         // ainfo.innerText = 'information of this post'
    //         //
    //         // ainfo.addEventListener("click", () => {
    //         //     location.href = "post-details?id=" + post.id
    //         // })
    //     }
    //     console.log(location)
    // })
</script>
</body>
</html>